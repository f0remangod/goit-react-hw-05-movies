{"version":3,"file":"static/js/145.6cea0134.chunk.js","mappings":"2NAEaA,EAAa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC3B,GAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KAmBMC,EAAY,WAChBD,EAAc,GACf,EAED,OACE,kBAAME,UAAU,OAAOL,SAhBJ,SAAAM,GACnBA,EAAMC,iBAEoB,KAAtBL,EAAWM,QAIfR,EAASE,GACTE,KAJEK,MAAM,iCAKT,EAOC,WACE,mBAAQC,KAAK,SAAb,2BAEA,kBACEC,SA1BoB,SAAAL,GACxB,IAAQM,EAAUN,EAAMO,cAAhBD,MAERT,EAAcS,EACf,EAuBKP,UAAU,QACVO,MAAOV,EACPQ,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,+BAInB,E,yBCaD,EAjDe,WAAO,IAAD,EACnB,GAA0Cf,EAAAA,EAAAA,UAAS,IAAnD,eAAOgB,EAAP,KAAsBC,EAAtB,KAEA,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACMC,EAAK,UAAGF,EAAYG,IAAI,gBAAnB,QAA+B,GAEpCC,GAAWC,EAAAA,EAAAA,MAoBjB,OAZAC,EAAAA,EAAAA,YAAU,WACR,GAAIJ,EACF,KACEK,EAAAA,EAAAA,IAAgBL,GAAOM,MAAK,SAAAC,GAC1BX,GAAiB,OAAIW,EAAIC,SAC1B,GAGF,CAFC,MAAOC,GACPC,QAAQC,IAAIF,EACb,CAEJ,GAAE,CAACT,KAGF,iCACE,SAACvB,EAAD,CAAYC,SApBS,SAAAkC,GACvBb,EAC0B,KAAxBa,EAA6B,CAAEZ,MAAOY,GAAwB,CAAC,EAElE,IAiBIjB,EAAckB,OAAS,IACtB,wDAC6B,wBAAKb,IADlC,QAIF,wBACGL,EAAcmB,KAAI,SAAAC,GACjB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAKE,IAAMC,MAAO,CAAEC,KAAMjB,GAAvC,SACGa,EAAKK,SAFDL,EAAKE,GAMjB,QAIR,C","sources":["components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import { useState } from 'react';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  const handleInputChange = event => {\n    const { value } = event.currentTarget;\n\n    setInputValue(value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (inputValue.trim() === '') {\n      alert('Search query can not be empty.');\n      return;\n    }\n    onSubmit(inputValue);\n    clearForm();\n  };\n\n  const clearForm = () => {\n    setInputValue('');\n  };\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <button type=\"submit\">üîç</button>\n\n      <input\n        onChange={handleInputChange}\n        className=\"input\"\n        value={inputValue}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search films in database\"\n      />\n    </form>\n  );\n};\n","import { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { getMovieByQuery } from 'services/api';\n\nconst Movies = () => {\n  const [searchResults, setSearchResults] = useState([]);\n\n  const [searchQuery, setSearchQuery] = useSearchParams();\n  const query = searchQuery.get('query') ?? '';\n\n  const location = useLocation();\n\n  const handleFormSubmit = searchQueryFromForm => {\n    setSearchQuery(\n      searchQueryFromForm !== '' ? { query: searchQueryFromForm } : {}\n    );\n  };\n\n  useEffect(() => {\n    if (query) {\n      try {\n        getMovieByQuery(query).then(res => {\n          setSearchResults([...res.results]);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [query]);\n\n  return (\n    <>\n      <SearchForm onSubmit={handleFormSubmit}></SearchForm>\n      {searchResults.length > 0 && (\n        <p>\n          Search results for keyword <em>{query}</em>:\n        </p>\n      )}\n      <ul>\n        {searchResults.map(film => {\n          return (\n            <li key={film.id}>\n              <Link to={`${film.id}`} state={{ from: location }}>\n                {film.title}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["SearchForm","onSubmit","useState","inputValue","setInputValue","clearForm","className","event","preventDefault","trim","alert","type","onChange","value","currentTarget","autoComplete","autoFocus","placeholder","searchResults","setSearchResults","useSearchParams","searchQuery","setSearchQuery","query","get","location","useLocation","useEffect","getMovieByQuery","then","res","results","error","console","log","searchQueryFromForm","length","map","film","to","id","state","from","title"],"sourceRoot":""}